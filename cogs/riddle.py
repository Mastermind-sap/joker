import discord
from discord.ext import commands,tasks
import random
import requests
import json
import asyncio
import itertools


class Riddle(commands.Cog):
    def __init__(self,bot):
        self.bot=bot

    data=[['Riddle: What has to be broken before you can use it?', 'Answer: An egg'], ['Riddle: I’m tall when I’m young, and I’m short when I’m old. What am I?', 'Answer: A candle'], ['Riddle: What month of the year has 28 days?', 'Answer: All of them'], ['Riddle: What is full of holes but still holds water?', 'Answer: A sponge'], ['Riddle: What question can you never answer yes to?', 'Answer: Are you asleep yet?'], ['Riddle: What is always in front of you but can’t be seen?', 'Answer: The future'], ['Riddle: There’s a one-story house in which everything is yellow. Yellow walls, yellow doors, yellow furniture. What color are the stairs?', 'Answer: There aren’t any—it’s a one-story house.'], ['Riddle. What can you break, even if you never pick it up or touch it?', 'Answer: A promise'], ['Riddle: What goes up but never comes down?', 'Answer: Your age'], ['Riddle: A man who was outside in the rain without an umbrella or hat didn’t get a single hair on his head wet. Why?', 'Answer: He was bald.'], ['Riddle: What gets wet while drying?', 'Answer: A towel'], ['Riddle: What can you keep after giving to someone?', 'Answer: Your word'], ['Riddle: I shave every day, but my beard stays the same. What am I?', 'Answer: A barber'], ['Riddle: You see a boat filled with people, yet there isn’t a single person on board. How is that possible?', 'Answer: All the people on the boat are married.'], ['Riddle: You walk into a room that contains a match, a kerosene lamp, a candle and a fireplace. What would you light first?', 'Answer: The match'], ['Riddle: A man dies of old age on his 25 birthday. How is this possible?', 'Answer: He was born on February 29.'], ['Riddle: I have branches, but no fruit, trunk or leaves. What am I?', 'Answer: A bank'], ['Riddle: What can’t talk but will reply when spoken to?', 'Answer: An echo'], ['Riddle: The more of this there is, the less you see. What is it?', 'Answer: Darkness'], ['Riddles for Kids', '20. Riddle: David’s parents have three sons: Snap, Crackle, and what’s the name of the third son?', 'Answer: David'], ['Riddle: I follow you all the time and copy your every move, but you can’t touch me or catch me. What am I?', 'Answer: Your shadow'], ['Riddle: What has many keys but can’t open a single lock?', 'Answer: A piano'], ['Riddle: What can you hold in your left hand but not in your right?', 'Answer: Your right elbow'], ['Riddle: What is black when it’s clean and white when it’s dirty?', 'Answer: A chalkboard'], ['Riddle: What gets bigger when more is taken away?', 'Answer: A hole'], ['Riddle: I’m light as a feather, yet the strongest person can’t hold me for five minutes. What am I?', 'Answer: Your breath'], ['Riddle: I’m found in socks, scarves and mittens; and often in the paws of playful kittens. What am I?', 'Answer: Yarn'], ['Riddle: Where does today come before yesterday?', 'Answer: The dictionary'], ['Riddle: What invention lets you look right through a wall?', 'Answer: A window'], ['Riddle: If you’ve got me, you want to share me; if you share me, you haven’t kept me. What am I?', 'Answer: A secret'], ['Riddle: What can’t be put in a saucepan?', 'Answer: It’s lid'], ['Riddle: What goes up and down but doesn’t move?', 'Answer: A staircase'], ['Riddle: If you’re running in a race and you pass the person in second place, what place are you in?', 'Answer: Second place'], ['Riddle: It belongs to you, but other people use it more than you do. What is it?', 'Answer: Your name'], ['Riddles', '35. Riddle: What has lots of eyes, but can’t see?', 'Answer: A potato'], ['Riddle: What has one eye, but can’t see?', 'Answer: A needle'], ['Riddle: What has many needles, but doesn’t sew?', 'Answer: A Christmas tree'], ['Riddle: What has hands, but can’t clap?', 'Answer: A clock'], ['Riddle: What has legs, but doesn’t walk?', 'Answer: A table'], ['Riddle: What has one head, one foot and four legs?', 'Answer: A bed'], ['Riddle: What can you catch, but not throw?', 'Answer: A cold'], ['Riddle: What kind of band never plays music?', 'Answer: A rubber band'], ['Riddle: What has many teeth, but can’t bite?', 'Answer: A comb'], ['Riddle: What is cut on a table, but is never eaten?', 'Answer: A deck of cards'], ['Riddle: What has words, but never speaks?', 'Answer: A book'], ['Riddle: What runs all around a backyard, yet never moves?', 'Answer: A fence\xa0'], ['Riddle: What can travel all around the world without leaving its corner?', 'Answer: A stamp'], ['Riddle: What has a thumb and four fingers, but is not a hand?', 'Answer: A glove'], ['Riddle: What has a head and a tail but no body?', 'Answer: A coin'], ['Riddle: Where does one wall meet the other wall?', 'Answer: On the corner'], ['Riddle: What building has the most stories?', 'Answer: The library\xa0'], ['Riddle: What tastes better than it smells?', 'Answer: Your tongue'], ['Riddle: What has 13 hearts, but no other organs?', 'Answer: A deck of cards'], ['Riddle: It stalks the countryside with ears that can’t hear. What is it?', 'Answer: Corn'], ['Riddle: What kind of coat is best put on wet?', 'Answer: A coat of paint'], ['Riddle: What has a bottom at the top?', 'Answer: Your legs'], ['Riddle: What has four wheels and flies?', 'Answer: A garbage truck'], ['Riddles', '58. Riddle: I am an odd number. Take away a letter and I become even. What number am I?', 'Answer: Seven'], ['Riddle: If two’s company, and three’s a crowd, what are four and five?', 'Answer:\xa0Nine'], ['Riddle: What three numbers, none of which is zero, give the same result whether they’re added or multiplied?', 'Answer: One, two and three'], ['Riddle: Mary has four daughters, and each of her daughters has a brother. How many children does Mary have?', 'Answer:\xa0Five—each daughter has the same brother.'], ['Riddle: Which is heavier: a ton of bricks or a ton of feathers?', 'Answer: Neither—they both weigh a ton.'], ['Riddle: Three doctors said that Bill was their brother. Bill says he has no brothers. How many brothers does Bill actually have?', 'Answer: None. He has three sisters.'], ['Riddle: Two fathers and two sons are in a car, yet there are only three people in the car. How?', 'Answer: They are a grandfather, father and son.'], ['Riddle: The day before yesterday I was 21, and next year I will be 24. When is my birthday?', 'Answer: December 31; today is January 1.'], ['Riddle: A little girl goes to the store and buys one dozen eggs. As she is going home, all but three break. How many eggs are left unbroken?', 'Answer: Three'], ['Riddle: A man describes his daughters, saying, “They are all blonde, but two; all brunette but two; and all redheaded but two.” How many daughters does he have?', 'Answer: Three: A blonde, a brunette and a redhead'], ['Riddle: If there are three apples and you take away two, how many apples do you have?', 'Answer: You have two apples.'], ['Riddle: A girl has as many brothers as sisters, but each brother has only half as many brothers as sisters. How many brothers and sisters are there in the family?', 'Answer: Four sisters and three brothers'], ['Riddles', '70. Riddle: What five-letter word becomes shorter when you add two letters to it?', 'Answer: Short'], ['Riddle: What begins with an "e" and only contains one letter?', 'Answer: An envelope'], ['Riddle: A word I know, six letters it contains, remove one letter\xa0and 12 remains. What is it?', 'Answer: Dozens'], ['Riddle: What would you find in the middle of Toronto?', 'Answer: The letter “o”'], ['Riddle: You see me once in June, twice in November and not at all in May. What am I?', 'Answer: The letter “e”'], ['Riddle: Two in a corner, one in a room, zero in a house, but one in a shelter. What is it?', 'Answer: The letter “r”'], ['s'], ["Riddle: I am the beginning of everything, the end of everywhere. I'm the beginning of eternity, the end of time and space. What am I?", 'Answer: Also the letter “e”'], ['Riddle: What 4-letter word can be written forward, backward or upside down, and can still be read from left to right?', 'Answer: NOON'], ['Riddle: Forward I am heavy, but backward I am not. What am I?', 'Answer: The word “not”'], ['Riddle: What is 3\\/7 chicken, 2\\/3 cat and 2\\/4 goat?', 'Answer: Chicago'], ['Riddle: I am a word of letters three; add two and fewer there will be. What word am I?', 'Answer: Few'], ['Riddle: What word of five letters has one left when two are removed?', 'Answer: Stone'], ['Riddle: What is the end of everything?', 'Answer: The letter “g”'], ['Riddle: What word is pronounced the same if you take away four of its five letters?', 'Answer: Queue'], ['Riddle: I am a word that begins with the letter “i.” If you add the letter “a” to me, I become a new word with a different meaning, but that sounds exactly the same. What word am I?', 'Answer: Isle (add “a” to make “aisle”)'], ['Riddle: What word in the English language does the following: The first two letters signify a male, the first three letters signify a female, the first four letters signify a great, while the entire world signifies a great woman. What is the word?', 'Answer: Heroine'], ['Riddles', '86. Riddle: What is so fragile that saying its name breaks it?', 'Answer: Silence.'], ['Riddle: What can run but never walks, has a mouth but never talks, has a head but never weeps, has a bed but never sleeps?', 'Answer: A river'], ['Riddle: Speaking of rivers, a man calls his dog from the opposite side of the river. The dog crosses the river without getting wet, and without using a bridge or boat. How?', 'Answer: The river was frozen.'], ['Riddle: What can fill a room but takes up no space?', 'Answer: Light'], ['Riddle: If you drop me I’m sure to crack, but give me a smile and I’ll always smile back. What am I?', 'Answer: A mirror'], [''], ['Riddle: The more you take, the more you leave behind. What are they?', 'Answer: Footsteps'], ['Riddle: I turn once, what is out will not get in. I turn again, what is in will not get out. What am I?', 'Answer: A key'], ['Riddle: People make me, save me, change me, raise me. What am I?', 'Answer: Money'], ['Riddle: What breaks yet never falls, and what falls yet never breaks?', 'Answer: Day, and night'], ['Riddle: What goes through cities and fields, but never moves?', 'Answer: A road'], ['Riddle: I am always hungry and will die if not fed, but whatever I touch will soon turn red. What am I?', 'Answer: Fire'], ['Riddle: The person who makes it has no need of it; the person who buys it has no use for it. The person who uses it can neither see nor feel it. What is it?', 'Answer: A coffin'], ['Riddle: A man looks at a painting in a museum and says, “Brothers and sisters I have none, but that man’s father is my father’s son.” Who is in the painting?', 'Answer: The man’s son'], ['Riddle: With pointed fangs I sit and wait; with piercing force I crunch out fate; grabbing victims, proclaiming might; physically joining with a single bite. What am I?', 'Answer: A stapler'], ['Riddle: I have lakes with no water, mountains with no stone and cities with no buildings. What am I?', 'Answer: A map'], ['Riddle: What does man love more than life, hate more than death or mortal strife; that which contented men desire; the poor have, the rich require; the miser spends, the spendthrift saves, and all men carry to their graves?', 'Answer: Nothing']]

    @commands.command()
    async def riddle(self,ctx):
        def check(msg):
            return msg.author == ctx.author and msg.channel == ctx.channel and msg.content.lower() in answer.lower()
        
        i=random.randint(0,102)
        dataitem=data[i]
        riddle=dataitem[0]
        answer=dataitem[1]
        await ctx.send(riddle)
        try:
            a=await self.bot.wait_for("message", check=check , timeout=30)
            if a.content.lower()== answer.lower()[8:]:
                await ctx.send("Yes you got the answer right")
                await ctx.send(answer)
            else:
                await ctx.send(answer)
        except asyncio.TimeoutError:
            await ctx.send(answer)

def setup(bot):
    bot.add_cog(Riddle(bot))
